<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- View Kanban Customizada para CRM Lead -->
        <record id="crm_lead_kanban_custom" model="ir.ui.view">
            <field name="name">crm.lead.kanban.custom</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.view_crm_lead_kanban"/>
            <field name="priority">120</field>
            <field name="arch" type="xml">

                <!-- Remove o nome original -->
                <xpath expr="//field[@name='name']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <!-- Adiciona nome do contato e responsÃ¡vel no topo do card -->
                <xpath expr="//field[@name='tag_ids']" position="before">
                    <div class="o_kanban_record_top">
                        <field name="contact_name" class="fw-bold fs-5">
                            <t t-if="record.contact_name.raw_value">
                                <t t-esc="record.contact_name.value"/>
                            </t>
                            <t t-else="">
                                <t t-esc="record.name.value"/>
                            </t>
                        </field>
                        <div class="text-muted small">
                            <field name="user_id" widget="many2one"/>
                        </div>
                    </div>
                </xpath>

            </field>
        </record>

    </data>
</odoo>
